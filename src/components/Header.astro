---
import MainLayout from "../layouts/MainLayout.astro";
import Button from '../components/Button.astro';
import Link from '../components/Link.astro';
import { Image } from 'astro:assets';
import headerlogo from '../assets/images/headerlogo.svg';
import hamburger from '../assets/images/hamburger.svg';
import kurv from '../assets/images/kurv.svg';
import login from '../assets/images/login.svg';
---
  <!-- Top fragt-banner -->
<div class="mx-auto flex place-content-center bg-black text-white">
    <p class="text-xs my-2">FRI FRAGT VED KØB AF VINKASSE PÅ ABONNEMENT</p>
</div>

<div class="mx-auto flex items-center justify-between py-4 px-8 border-b border-black">
  <!-- Venstre side: Logo -->
  <a href="/" class="flex items-center gap-4">
    <img src={headerlogo.src} alt="ExploreWines Logo" class="w-10 h-10" />
    <h1 class="text-2xl font-bold text-gray-900">EXPLOREWINES</h1>
  </a>

<!-- Center: Navigation Links (Hidden on Mobile) -->
  <nav class="hidden md:flex items-center gap-8">
    <div class="relative group"> 
  <a href="/abonnement" class="text-lg font-medium text-gray-800 hover:underline flex items-center gap-1">Vinabonnement 
    <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
    </svg>
  </a>
  <div class="absolute hidden group-hover:block bg-white border border-black w-40">
    <a href="/rodwin" class="block px-4 py-2 text-gray-800 hover:underline hover:bg-gray-100">Rødvinskasse</a>
    <a href="/abonnement/hvidvinskasse" class="block px-4 py-2 text-gray-800 hover:underline hover:bg-gray-100">Hvidvinskasse</a>
    <a href="/abonnement/mixkasse" class="block px-4 py-2 text-gray-800 hover:underline hover:bg-gray-100">Mixkasse</a>
  </div>
</div>

    <a href="/" class="text-lg font-medium text-gray-800 hover:underline">Vinshop</a>
    <a href="/om" class="text-lg font-medium text-gray-800 hover:underline">Om os</a>
  </nav>
  

  <!-- Højre side: Call-to-Action & Icons -->
  <div class="hidden md:flex items-center gap-6">
    <Button>Bliv abonnent</Button>
    <div class="flex items-center gap-4">
      <img src={login.src} alt="User Icon" class="w-6 h-6" />
      <img src={kurv.src} alt="Cart Icon" class="w-6 h-6" />
    </div>
  </div>

  <!-- Hamburger Menu til Mobile -->
  <button
    id="menu-toggle"
    class="md:hidden flex items-center justify-center w-8 h-8 borde"
  >
    <!-- Burger Icon -->
    <svg
      id="burger-icon"
      xmlns="http://www.w3.org/2000/svg"
      class="w-6 h-6"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
      stroke-width="2"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M4 6h16M4 12h16m-7 6h7"
      />
    </svg>
    <!-- Lukke Icon (Hidden normalt indtil man klikker på burgermenu - se javascript nederst) -->
    <svg
      id="cross-icon"
      xmlns="http://www.w3.org/2000/svg"
      class="w-6 h-6 hidden"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
      stroke-width="2"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M6 18L18 6M6 6l12 12"
      />
    </svg>
  </button>
</div>

<!-- Søge felt -->
<div class="my-2 border-b border-black">
  <div class="flex items-center px-8">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="w-5 h-5 text-black"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
      stroke-width="2"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
      />
    </svg>
    <input
      type="text"
      placeholder="Søg efter sort, drue, årgang..."
      class="flex-1 bg-transparent border-none text-gray-800 placeholder-gray-400 focus:outline-none"
    />
  </div>
</div>

<!-- Mobile Dropdown Menu -->
<div
  id="mobile-menu"
  class="hidden md:hidden bg-white py-4 border-b border-black"
>
  <nav class="flex flex-col ml-8 gap-4">
    <a href="/abonnement" class="text-lg font-medium text-gray-800 hover:underline">Vinabonnement</a>
    <a href="/" class="text-lg font-medium text-gray-800 hover:underline">Vinshop</a>
    <a href="/om" class="text-lg font-medium text-gray-800 hover:underline">Om os</a>
    <Button class="mt-4">Bliv abonnent</Button>
  </nav>
</div>

<script>
  // Toggle Mobile Menu Visibility
  document.getElementById("menu-toggle").addEventListener("click", () => {
    const menu = document.getElementById("mobile-menu");
    const burgerIcon = document.getElementById("burger-icon");
    const crossIcon = document.getElementById("cross-icon");

    // Toggle Menu Visibility
    menu.classList.toggle("hidden");

    // Toggle Icons
    burgerIcon.classList.toggle("hidden");
    crossIcon.classList.toggle("hidden");
  });
</script>
